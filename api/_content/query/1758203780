{"_path":"/ja/v1/getting-started/advanced","_draft":false,"_partial":false,"_empty":false,"title":"発展的な機能","description":"@nuxt/contentの発展的な利用方法を学ぶ","excerpt":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"プログラマティックな利用方法"},"children":[{"type":"text","value":"プログラマティックな利用方法"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"$content"}]},{"type":"text","value":"は "},{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/content","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"@nuxt/content"}]}]}]},{"type":"text","value":"からアクセスできます"}]},{"type":"element","tag":"alert","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"モジュールがNuxtによってロードされた後"}]},{"type":"text","value":"でなければアクセスできないことに注意してください。"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"require('@nuxt/content')"}]},{"type":"text","value":" は、フックや内部のNuxtメソッドで発生するはずです。"}]},{"type":"element","tag":"alert","props":{},"children":[{"type":"element","tag":"code","props":{"code":"export default {\n  modules: [\n    '@nuxt/content'\n  ],\n  generate: {\n    async ready () {\n      const { $content } = require('@nuxt/content')\n      const files = await $content().only(['slug']).fetch()\n      console.log(files)\n    }\n  }\n}\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"export default {\n  modules: [\n    '@nuxt/content'\n  ],\n  generate: {\n    async ready () {\n      const { $content } = require('@nuxt/content')\n      const files = await $content().only(['slug']).fetch()\n      console.log(files)\n    }\n  }\n}\n"}]}]}]},{"type":"element","tag":"h3","props":{"id":"静的サイト生成"},"children":[{"type":"text","value":"静的サイト生成"}]},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nuxt 2.13+ 以降、"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxt export"}]},{"type":"text","value":" にはクローラー機能が統合されており、すべてのリンクをクロールし、それらのリンクに基づいてルートを生成します。したがって、動的なルートをクロールさせるためには何もする必要はありません。"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxt generate"}]},{"type":"text","value":" を利用する場合は、"},{"type":"element","tag":"a","props":{"href":"https://nuxtjs.org/api/configuration-generate/#routes","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"generate.routes"}]},{"type":"text","value":" で動的ルートを指定する必要があります。\nなぜなら、Nuxtはこれらのルートが何になるかわからないので、ルートを生成できないからです。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"例"}]}]},{"type":"element","tag":"code","props":{"code":"export default {\n  modules: [,\n    '@nuxt/content'\n  ],\n  generate: {\n    async routes () {\n      const { $content } = require('@nuxt/content')\n      const files = await $content().only(['path']).fetch()\n\n      return files.map(file => file.path === '/index' ? '/' : file.path)\n    }\n  }\n}\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"export default {\n  modules: [,\n    '@nuxt/content'\n  ],\n  generate: {\n    async routes () {\n      const { $content } = require('@nuxt/content')\n      const files = await $content().only(['path']).fetch()\n\n      return files.map(file => file.path === '/index' ? '/' : file.path)\n    }\n  }\n}\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"フック"},"children":[{"type":"text","value":"フック"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"いくつかのフックを提供します。"}]},{"type":"element","tag":"h3","props":{"id":"contentfilebeforeinsert"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"content:file:beforeInsert"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"保存する前にドキュメントへデータを追加できます。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Arguments:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"document"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Type: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Object"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Properties:"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/ja/writing"},"children":[{"type":"text","value":"コンテンツを作成する"}]},{"type":"text","value":"を参照してください。"}]}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"例"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"ブログのスターターを例にとると、"},{"type":"element","tag":"a","props":{"href":"https://github.com/ngryman/reading-time","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"reading-Time"}]},{"type":"text","value":"を利用した"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"readingTime"}]},{"type":"text","value":" をドキュメントへ追加するために、"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"file:beforeInsert"}]},{"type":"text","value":"を使うことができます。"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"text"}]},{"type":"text","value":"は、JSON ASTに変換される前のMarkdownファイルのbodyの内容で、この時点では使用できますが、APIからは返されません。"}]}]},{"type":"element","tag":"code","props":{"code":"export default {\n  modules: [,\n    '@nuxt/content'\n  ],\n  hooks: {\n    'content:file:beforeInsert': (document) => {\n      if (document.extension === '.md') {\n        const { time } = require('reading-time')(document.text)\n\n        document.readingTime = time\n      }\n    }\n  }\n}\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"export default {\n  modules: [,\n    '@nuxt/content'\n  ],\n  hooks: {\n    'content:file:beforeInsert': (document) => {\n      if (document.extension === '.md') {\n        const { time } = require('reading-time')(document.text)\n\n        document.readingTime = time\n      }\n    }\n  }\n}\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"ホットリロードの取り扱い"},"children":[{"type":"text","value":"ホットリロードの取り扱い"}]},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"開発モードの場合、モジュールは自動的に "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxtServerInit"}]},{"type":"text","value":"ストアアクション（定義されている場合）と "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"$nuxt.refresh()"}]},{"type":"text","value":" を呼び出して現在のページを更新します。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"イベントを待ち受けてさらに何かをしたい場合は、"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"$nuxt.$on('content:update')"}]},{"type":"text","value":"を使ってクライアント側で "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"content:update"}]},{"type":"text","value":" イベントを待ち受けることができます。"}]},{"type":"element","tag":"code","props":{"code":"export default function ({ store }) {\n  // 開発時のみ\n  if (process.dev) {\n    window.onNuxtReady(($nuxt) => {\n      $nuxt.$on('content:update', ({ event, path }) => {\n        // storeのカテゴリを更新\n        store.dispatch('fetchCategories')\n      })\n    })\n  }\n}\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"export default function ({ store }) {\n  // 開発時のみ\n  if (process.dev) {\n    window.onNuxtReady(($nuxt) => {\n      $nuxt.$on('content:update', ({ event, path }) => {\n        // storeのカテゴリを更新\n        store.dispatch('fetchCategories')\n      })\n    })\n  }\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxt.config.js"}]},{"type":"text","value":"にプラグインを追加します。"}]},{"type":"element","tag":"code","props":{"code":"export default {\n  plugins: [\n    '@/plugins/update.client.js'\n  ]\n}\n","filename":"nuxt.config.js","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"export default {\n  plugins: [\n    '@/plugins/update.client.js'\n  ]\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"これで、"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"content/"}]},{"type":"text","value":"ディレクトリ内のファイルを更新するたびに、"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"fetchCategories"}]},{"type":"text","value":"メソッドもディスパッチされます。\nこのドキュメントサイトでは実際にそれを使用しています。"},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/content/blob/master/docs/plugins/init.js","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"plugins/init.js"}]},{"type":"text","value":"を見れば、より多くのことを学ぶことができます。"}]},{"type":"element","tag":"h2","props":{"id":"apiエンドポイント"},"children":[{"type":"text","value":"APIエンドポイント"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"このモジュールは開発中のAPIエンドポイントを公開し、各ディレクトリやファイルのJSONを簡単に見ることができるようにします。"},{"type":"element","tag":"a","props":{"href":"http://localhost:3000/_content/","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"http://localhost:3000/_content/"}]},{"type":"text","value":"で利用可能です。プレフィックスはデフォルトでは "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"_content"}]},{"type":"text","value":"で、"},{"type":"element","tag":"a","props":{"href":"ja/configuration#apiprefix"},"children":[{"type":"text","value":"apiPrefix"}]},{"type":"text","value":"プロパティで設定できます。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"例："}]},{"type":"element","tag":"code","props":{"code":"-| content/\n---| articles/\n------| hello-world.md\n---| index.md\n---| settings.json\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"-| content/\n---| articles/\n------| hello-world.md\n---| index.md\n---| settings.json\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"localhost:3000"}]},{"type":"text","value":"で公開されます:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/_content/articles"}]},{"type":"text","value":": "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"content/articles/"}]},{"type":"text","value":"のファイルのリスト"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/_content/articles/hello-world"}]},{"type":"text","value":": "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"hello-world.md"}]},{"type":"text","value":" をJSONで取得"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/_content/index"}]},{"type":"text","value":": "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"index.md"}]},{"type":"text","value":" をJSONで取得"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/_content/settings"}]},{"type":"text","value":":"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"settings.json"}]},{"type":"text","value":" をJSONで取得"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/_content"}]},{"type":"text","value":": "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"index"}]},{"type":"text","value":" と "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"settings"}]},{"type":"text","value":"のリスト"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"エンドポイントは "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GET"}]},{"type":"text","value":" や "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"POST"}]},{"type":"text","value":" リクエストでアクセスできるので、クエリのパラメーターを利用できます。: "},{"type":"element","tag":"a","props":{"href":"http://localhost:3000/_content/articles?only=title&only=description&limit=10","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"http://localhost:3000/_content/articles?only=title&only=description&limit=10"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"v1.4.0"}]},{"type":"text","value":"以降、このエンドポイントはクエリパラメーターの "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"where"}]},{"type":"text","value":"もサポートしています。"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"デフォルトのキーに属さないすべてのキーが "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"where"}]},{"type":"text","value":"に適用されます。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"http://localhost:3000/_content/articles?author=..."}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"$operators"}]},{"type":"text","value":"は"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"_"}]},{"type":"text","value":"と一緒に使うことができます。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"http://localhost:3000/_content/articles?author_regex=..."}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"このモジュールは 、内部的にLokiJSを使用しています。、あなたは"},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"クエリの例"}]},{"type":"text","value":"（"},{"type":"element","tag":"a","props":{"href":"https://github.com/techfort/LokiJS/wiki/Query-Examples#find-queries%EF%BC%89%E3%82%92%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF%E3%81%99%E3%82%8B%E3%81%93%E3%81%A8%E3%81%8C%E3%81%A7%E3%81%8D%E3%81%BE%E3%81%99%E3%80%82","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"https://github.com/techfort/LokiJS/wiki/Query-Examples#find-queries）をチェックすることができます。"}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/ja/configuration#nestedproperties"},"children":[{"type":"text","value":"nested properties"}]},{"type":"text","value":"も利用できます"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"http://localhost:3000/_content/products?categories.slug_contains=top"}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"このエンドポイントについての詳細は "},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/content/blob/master/lib/middleware.js","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"lib/middleware.js"}]},{"type":"text","value":"を参照してください。"}]}]}]},"body":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"プログラマティックな利用方法"},"children":[{"type":"text","value":"プログラマティックな利用方法"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"$content"}]},{"type":"text","value":"は "},{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/content","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"@nuxt/content"}]}]}]},{"type":"text","value":"からアクセスできます"}]},{"type":"element","tag":"alert","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"モジュールがNuxtによってロードされた後"}]},{"type":"text","value":"でなければアクセスできないことに注意してください。"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"require('@nuxt/content')"}]},{"type":"text","value":" は、フックや内部のNuxtメソッドで発生するはずです。"}]},{"type":"element","tag":"alert","props":{},"children":[{"type":"element","tag":"code","props":{"code":"export default {\n  modules: [\n    '@nuxt/content'\n  ],\n  generate: {\n    async ready () {\n      const { $content } = require('@nuxt/content')\n      const files = await $content().only(['slug']).fetch()\n      console.log(files)\n    }\n  }\n}\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0bd89e"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-0bd89e"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-f5cdc4"},"children":[{"type":"text","value":"modules"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":": ["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-0335b8"},"children":[{"type":"text","value":"'@nuxt/content'"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"  ],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-f5cdc4"},"children":[{"type":"text","value":"generate"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-0bd89e"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f3a0f2"},"children":[{"type":"text","value":"ready"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" () {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-0bd89e"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-a23bc0"},"children":[{"type":"text","value":"$content"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"class":"ct-fc7477"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-fc7477"},"children":[{"type":"text","value":"require"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-0335b8"},"children":[{"type":"text","value":"'@nuxt/content'"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-0bd89e"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a23bc0"},"children":[{"type":"text","value":"files"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-fc7477"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-0bd89e"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f3a0f2"},"children":[{"type":"text","value":"$content"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"()."}]},{"type":"element","tag":"span","props":{"class":"ct-f3a0f2"},"children":[{"type":"text","value":"only"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"(["}]},{"type":"element","tag":"span","props":{"class":"ct-0335b8"},"children":[{"type":"text","value":"'slug'"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"])."}]},{"type":"element","tag":"span","props":{"class":"ct-f3a0f2"},"children":[{"type":"text","value":"fetch"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-a23bc0"},"children":[{"type":"text","value":"console"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-f3a0f2"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-f5cdc4"},"children":[{"type":"text","value":"files"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"静的サイト生成"},"children":[{"type":"text","value":"静的サイト生成"}]},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nuxt 2.13+ 以降、"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxt export"}]},{"type":"text","value":" にはクローラー機能が統合されており、すべてのリンクをクロールし、それらのリンクに基づいてルートを生成します。したがって、動的なルートをクロールさせるためには何もする必要はありません。"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxt generate"}]},{"type":"text","value":" を利用する場合は、"},{"type":"element","tag":"a","props":{"href":"https://nuxtjs.org/api/configuration-generate/#routes","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"generate.routes"}]},{"type":"text","value":" で動的ルートを指定する必要があります。\nなぜなら、Nuxtはこれらのルートが何になるかわからないので、ルートを生成できないからです。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"例"}]}]},{"type":"element","tag":"code","props":{"code":"export default {\n  modules: [,\n    '@nuxt/content'\n  ],\n  generate: {\n    async routes () {\n      const { $content } = require('@nuxt/content')\n      const files = await $content().only(['path']).fetch()\n\n      return files.map(file => file.path === '/index' ? '/' : file.path)\n    }\n  }\n}\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0bd89e"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-0bd89e"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-f5cdc4"},"children":[{"type":"text","value":"modules"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":": [,"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-0335b8"},"children":[{"type":"text","value":"'@nuxt/content'"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"  ],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-f5cdc4"},"children":[{"type":"text","value":"generate"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-0bd89e"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f3a0f2"},"children":[{"type":"text","value":"routes"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" () {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-0bd89e"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-a23bc0"},"children":[{"type":"text","value":"$content"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"class":"ct-fc7477"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-fc7477"},"children":[{"type":"text","value":"require"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-0335b8"},"children":[{"type":"text","value":"'@nuxt/content'"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-0bd89e"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a23bc0"},"children":[{"type":"text","value":"files"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-fc7477"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-0bd89e"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f3a0f2"},"children":[{"type":"text","value":"$content"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"()."}]},{"type":"element","tag":"span","props":{"class":"ct-f3a0f2"},"children":[{"type":"text","value":"only"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"(["}]},{"type":"element","tag":"span","props":{"class":"ct-0335b8"},"children":[{"type":"text","value":"'path'"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"])."}]},{"type":"element","tag":"span","props":{"class":"ct-f3a0f2"},"children":[{"type":"text","value":"fetch"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-0bd89e"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a23bc0"},"children":[{"type":"text","value":"files"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-f3a0f2"},"children":[{"type":"text","value":"map"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-f5cdc4"},"children":[{"type":"text","value":"file"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-0bd89e"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a23bc0"},"children":[{"type":"text","value":"file"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-f5cdc4"},"children":[{"type":"text","value":"path"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-fc7477"},"children":[{"type":"text","value":"==="}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-0335b8"},"children":[{"type":"text","value":"'/index'"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-0bd89e"},"children":[{"type":"text","value":"?"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-0335b8"},"children":[{"type":"text","value":"'/'"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-0bd89e"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a23bc0"},"children":[{"type":"text","value":"file"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-f5cdc4"},"children":[{"type":"text","value":"path"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"フック"},"children":[{"type":"text","value":"フック"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"いくつかのフックを提供します。"}]},{"type":"element","tag":"h3","props":{"id":"contentfilebeforeinsert"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"content:file:beforeInsert"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"保存する前にドキュメントへデータを追加できます。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Arguments:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"document"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Type: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Object"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Properties:"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/ja/writing"},"children":[{"type":"text","value":"コンテンツを作成する"}]},{"type":"text","value":"を参照してください。"}]}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"例"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"ブログのスターターを例にとると、"},{"type":"element","tag":"a","props":{"href":"https://github.com/ngryman/reading-time","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"reading-Time"}]},{"type":"text","value":"を利用した"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"readingTime"}]},{"type":"text","value":" をドキュメントへ追加するために、"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"file:beforeInsert"}]},{"type":"text","value":"を使うことができます。"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"text"}]},{"type":"text","value":"は、JSON ASTに変換される前のMarkdownファイルのbodyの内容で、この時点では使用できますが、APIからは返されません。"}]}]},{"type":"element","tag":"code","props":{"code":"export default {\n  modules: [,\n    '@nuxt/content'\n  ],\n  hooks: {\n    'content:file:beforeInsert': (document) => {\n      if (document.extension === '.md') {\n        const { time } = require('reading-time')(document.text)\n\n        document.readingTime = time\n      }\n    }\n  }\n}\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0bd89e"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-0bd89e"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-f5cdc4"},"children":[{"type":"text","value":"modules"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":": [,"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-0335b8"},"children":[{"type":"text","value":"'@nuxt/content'"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"  ],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-f5cdc4"},"children":[{"type":"text","value":"hooks"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-0335b8"},"children":[{"type":"text","value":"'content:file:beforeInsert'"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":": ("}]},{"type":"element","tag":"span","props":{"class":"ct-f5cdc4"},"children":[{"type":"text","value":"document"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"class":"ct-0bd89e"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-0bd89e"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-a23bc0"},"children":[{"type":"text","value":"document"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-f5cdc4"},"children":[{"type":"text","value":"extension"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-fc7477"},"children":[{"type":"text","value":"==="}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-0335b8"},"children":[{"type":"text","value":"'.md'"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":") {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-0bd89e"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-a23bc0"},"children":[{"type":"text","value":"time"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"class":"ct-fc7477"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-fc7477"},"children":[{"type":"text","value":"require"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-0335b8"},"children":[{"type":"text","value":"'reading-time'"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":")("}]},{"type":"element","tag":"span","props":{"class":"ct-a23bc0"},"children":[{"type":"text","value":"document"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-f5cdc4"},"children":[{"type":"text","value":"text"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-a23bc0"},"children":[{"type":"text","value":"document"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-f5cdc4"},"children":[{"type":"text","value":"readingTime"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-fc7477"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f5cdc4"},"children":[{"type":"text","value":"time"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"      }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"ホットリロードの取り扱い"},"children":[{"type":"text","value":"ホットリロードの取り扱い"}]},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"開発モードの場合、モジュールは自動的に "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxtServerInit"}]},{"type":"text","value":"ストアアクション（定義されている場合）と "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"$nuxt.refresh()"}]},{"type":"text","value":" を呼び出して現在のページを更新します。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"イベントを待ち受けてさらに何かをしたい場合は、"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"$nuxt.$on('content:update')"}]},{"type":"text","value":"を使ってクライアント側で "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"content:update"}]},{"type":"text","value":" イベントを待ち受けることができます。"}]},{"type":"element","tag":"code","props":{"code":"export default function ({ store }) {\n  // 開発時のみ\n  if (process.dev) {\n    window.onNuxtReady(($nuxt) => {\n      $nuxt.$on('content:update', ({ event, path }) => {\n        // storeのカテゴリを更新\n        store.dispatch('fetchCategories')\n      })\n    })\n  }\n}\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0bd89e"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-0bd89e"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-0bd89e"},"children":[{"type":"text","value":"function"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" ({ "}]},{"type":"element","tag":"span","props":{"class":"ct-f5cdc4"},"children":[{"type":"text","value":"store"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" }) {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-76ed30"},"children":[{"type":"text","value":"// 開発時のみ"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-0bd89e"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-a23bc0"},"children":[{"type":"text","value":"process"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-f5cdc4"},"children":[{"type":"text","value":"dev"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":") {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a23bc0"},"children":[{"type":"text","value":"window"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-f3a0f2"},"children":[{"type":"text","value":"onNuxtReady"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"(("}]},{"type":"element","tag":"span","props":{"class":"ct-f5cdc4"},"children":[{"type":"text","value":"$nuxt"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"class":"ct-0bd89e"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-a23bc0"},"children":[{"type":"text","value":"$nuxt"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-f3a0f2"},"children":[{"type":"text","value":"$on"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-0335b8"},"children":[{"type":"text","value":"'content:update'"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":", ({ "}]},{"type":"element","tag":"span","props":{"class":"ct-f5cdc4"},"children":[{"type":"text","value":"event"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-f5cdc4"},"children":[{"type":"text","value":"path"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" }) "}]},{"type":"element","tag":"span","props":{"class":"ct-0bd89e"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-76ed30"},"children":[{"type":"text","value":"// storeのカテゴリを更新"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-a23bc0"},"children":[{"type":"text","value":"store"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-f3a0f2"},"children":[{"type":"text","value":"dispatch"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-0335b8"},"children":[{"type":"text","value":"'fetchCategories'"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"      })"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"    })"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxt.config.js"}]},{"type":"text","value":"にプラグインを追加します。"}]},{"type":"element","tag":"code","props":{"code":"export default {\n  plugins: [\n    '@/plugins/update.client.js'\n  ]\n}\n","filename":"nuxt.config.js","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0bd89e"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-0bd89e"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-f5cdc4"},"children":[{"type":"text","value":"plugins"}]},{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":": ["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-0335b8"},"children":[{"type":"text","value":"'@/plugins/update.client.js'"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"  ]"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"これで、"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"content/"}]},{"type":"text","value":"ディレクトリ内のファイルを更新するたびに、"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"fetchCategories"}]},{"type":"text","value":"メソッドもディスパッチされます。\nこのドキュメントサイトでは実際にそれを使用しています。"},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/content/blob/master/docs/plugins/init.js","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"plugins/init.js"}]},{"type":"text","value":"を見れば、より多くのことを学ぶことができます。"}]},{"type":"element","tag":"h2","props":{"id":"apiエンドポイント"},"children":[{"type":"text","value":"APIエンドポイント"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"このモジュールは開発中のAPIエンドポイントを公開し、各ディレクトリやファイルのJSONを簡単に見ることができるようにします。"},{"type":"element","tag":"a","props":{"href":"http://localhost:3000/_content/","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"http://localhost:3000/_content/"}]},{"type":"text","value":"で利用可能です。プレフィックスはデフォルトでは "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"_content"}]},{"type":"text","value":"で、"},{"type":"element","tag":"a","props":{"href":"ja/configuration#apiprefix"},"children":[{"type":"text","value":"apiPrefix"}]},{"type":"text","value":"プロパティで設定できます。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"例："}]},{"type":"element","tag":"code","props":{"code":"-| content/\n---| articles/\n------| hello-world.md\n---| index.md\n---| settings.json\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"-| content/"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"---| articles/"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"------| hello-world.md"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"---| index.md"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6d23b"},"children":[{"type":"text","value":"---| settings.json"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"localhost:3000"}]},{"type":"text","value":"で公開されます:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/_content/articles"}]},{"type":"text","value":": "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"content/articles/"}]},{"type":"text","value":"のファイルのリスト"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/_content/articles/hello-world"}]},{"type":"text","value":": "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"hello-world.md"}]},{"type":"text","value":" をJSONで取得"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/_content/index"}]},{"type":"text","value":": "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"index.md"}]},{"type":"text","value":" をJSONで取得"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/_content/settings"}]},{"type":"text","value":":"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"settings.json"}]},{"type":"text","value":" をJSONで取得"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/_content"}]},{"type":"text","value":": "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"index"}]},{"type":"text","value":" と "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"settings"}]},{"type":"text","value":"のリスト"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"エンドポイントは "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GET"}]},{"type":"text","value":" や "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"POST"}]},{"type":"text","value":" リクエストでアクセスできるので、クエリのパラメーターを利用できます。: "},{"type":"element","tag":"a","props":{"href":"http://localhost:3000/_content/articles?only=title&only=description&limit=10","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"http://localhost:3000/_content/articles?only=title&only=description&limit=10"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"v1.4.0"}]},{"type":"text","value":"以降、このエンドポイントはクエリパラメーターの "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"where"}]},{"type":"text","value":"もサポートしています。"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"デフォルトのキーに属さないすべてのキーが "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"where"}]},{"type":"text","value":"に適用されます。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"http://localhost:3000/_content/articles?author=..."}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"$operators"}]},{"type":"text","value":"は"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"_"}]},{"type":"text","value":"と一緒に使うことができます。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"http://localhost:3000/_content/articles?author_regex=..."}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"このモジュールは 、内部的にLokiJSを使用しています。、あなたは"},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"クエリの例"}]},{"type":"text","value":"（"},{"type":"element","tag":"a","props":{"href":"https://github.com/techfort/LokiJS/wiki/Query-Examples#find-queries%EF%BC%89%E3%82%92%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF%E3%81%99%E3%82%8B%E3%81%93%E3%81%A8%E3%81%8C%E3%81%A7%E3%81%8D%E3%81%BE%E3%81%99%E3%80%82","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"https://github.com/techfort/LokiJS/wiki/Query-Examples#find-queries）をチェックすることができます。"}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/ja/configuration#nestedproperties"},"children":[{"type":"text","value":"nested properties"}]},{"type":"text","value":"も利用できます"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"http://localhost:3000/_content/products?categories.slug_contains=top"}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"このエンドポイントについての詳細は "},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/content/blob/master/lib/middleware.js","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"lib/middleware.js"}]},{"type":"text","value":"を参照してください。"}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-76ed30{color:#7F848E}.ct-fc7477{color:#56B6C2}.ct-a23bc0{color:#E5C07B}.ct-f3a0f2{color:#61AFEF}.ct-0335b8{color:#98C379}.ct-f5cdc4{color:#E06C75}.ct-f6d23b{color:#ABB2BF}.ct-0bd89e{color:#C678DD}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"プログラマティックな利用方法","depth":2,"text":"プログラマティックな利用方法"},{"id":"フック","depth":2,"text":"フック","children":[{"id":"contentfilebeforeinsert","depth":3,"text":"content:file:beforeInsert"}]},{"id":"ホットリロードの取り扱い","depth":2,"text":"ホットリロードの取り扱い"},{"id":"apiエンドポイント","depth":2,"text":"APIエンドポイント"}]}},"_type":"markdown","_id":"v1-ja:ja:v1:1.getting-started:7.advanced.md","_source":"v1-ja","_file":"ja/v1/1.getting-started/7.advanced.md","_extension":"md"}