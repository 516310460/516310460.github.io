[{"_path":"/guide/writing/document-driven","_draft":false,"_partial":false,"_empty":false,"title":"Document-driven","description":"The Document-driven development mode gives a lot more power to Markdown-based websites.","excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Document-driven development gives a lot more power to Markdown-based websites."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This mode creates a direct binding between the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"content/"}]},{"type":"text","value":" directory and pages."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It also offers "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"page"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"navigation"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"surround"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"globals"}]},{"type":"text","value":" variables."}]},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This feature is currently available on the "},{"type":"element","tag":"a","props":{"href":"/guide/migration/edge-channel"},"children":[{"type":"text","value":"edge channel"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"h2","props":{"id":"enable-the-mode"},"children":[{"type":"text","value":"Enable the mode"}]},{"type":"element","tag":"h3","props":{"id":"existing-project"},"children":[{"type":"text","value":"Existing project"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Add the "},{"type":"element","tag":"a","props":{"href":"/api/configuration#documentdriven"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"documentDriven"}]}]},{"type":"text","value":" option in the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxt.config"}]},{"type":"text","value":":"}]},{"type":"element","tag":"code","props":{"code":"import { defineNuxtConfig } from 'nuxt'\n\nexport default defineNuxtConfig({\n  modules: ['@nuxt/content'],\n  content: {\n    documentDriven: true\n  }\n})\n","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import { defineNuxtConfig } from 'nuxt'\n\nexport default defineNuxtConfig({\n  modules: ['@nuxt/content'],\n  content: {\n    documentDriven: true\n  }\n})\n"}]}]}]},{"type":"element","tag":"h3","props":{"id":"fresh-project"},"children":[{"type":"text","value":"Fresh project"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Start with a fresh project with the document driven mode enabled:"}]},{"type":"element","tag":"code","props":{"code":"npx nuxi init my-website -t doc-driven\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"npx nuxi init my-website -t doc-driven\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can also use an object to configure the behavior of the mode, checkout the "},{"type":"element","tag":"a","props":{"href":"/api/configuration#documentdriven"},"children":[{"type":"text","value":"configuration section"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h2","props":{"id":"catch-all-page"},"children":[{"type":"text","value":"Catch-all page"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The document driven mode ships a pre-configured "},{"type":"element","tag":"a","props":{"href":"https://v3.nuxtjs.org/guide/directory-structure/pages#catch-all-route","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"catch-all route"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This "},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/content/blob/main/src/runtime/pages/document-driven.vue","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"injected Vue page"}]},{"type":"text","value":" is useful for having a minimal project structure:"}]},{"type":"element","tag":"code","props":{"code":"my-project/\n  content/\n    index.md\n  nuxt.config.ts\n  package.json\n  tsconfig.json\n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"my-project/\n  content/\n    index.md\n  nuxt.config.ts\n  package.json\n  tsconfig.json\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It comes with a direct binding between your pageâ€™s metadada to the OpenGraph tags using the "},{"type":"element","tag":"a","props":{"href":"/api/composables/use-content-head"},"children":[{"type":"text","value":"useContentHead() composable"}]},{"type":"text","value":", providing effective SEO with no configuration."}]},{"type":"element","tag":"h3","props":{"id":"page-slots"},"children":[{"type":"text","value":"Page slots"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"That page comes with 2 slot components that you can replace at your project level."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To do so, you only have to create a component with the same name in your project "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"components/"}]},{"type":"text","value":" directory."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{"lang":"html"},"children":[{"type":"text","value":"<DocumentDrivenNotFound />"}]}]}]},{"type":"element","tag":"code","props":{"code":"<template>\n  <h1>Page not found</h1>\n</template>\n","filename":"components/DocumentDrivenNotFound.vue","language":"html"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<template>\n  <h1>Page not found</h1>\n</template>\n"}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{"lang":"html"},"children":[{"type":"text","value":"<DocumentDrivenEmpty />"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This component will be shown when there is no content for the current page, but the page exists."}]},{"type":"element","tag":"code","props":{"code":"<template>\n  <h1>This page is empty</h1>\n</template>\n","filename":"components/DocumentDrivenEmpty.vue","language":"html"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<template>\n  <h1>This page is empty</h1>\n</template>\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This component will be shown when no page has been found for the current URL."}]},{"type":"element","tag":"h2","props":{"id":"layout-binding"},"children":[{"type":"text","value":"Layout binding"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As the page data is available beforehand, the layout can be defined in the page front-matter:"}]},{"type":"element","tag":"code","props":{"code":"---\nlayout: article\n---\n\nThis page will use the article layout!\n","filename":"content/blog/hello-world.md","language":"md"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"---\nlayout: article\n---\n\nThis page will use the article layout!\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"By default, it uses the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"default"}]},{"type":"text","value":" layout if none is specified."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you want to use another layout by default, use the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"layoutFallbacks"}]},{"type":"text","value":" option in the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxt.config"}]},{"type":"text","value":":"}]},{"type":"element","tag":"code","props":{"code":"export default defineNuxtConfig({\n  content: {\n    documentDriven: {\n      layoutFallbacks: ['theme'],\n    }\n  }\n})\n","filename":"nuxt.config.ts","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"export default defineNuxtConfig({\n  content: {\n    documentDriven: {\n      layoutFallbacks: ['theme'],\n    }\n  }\n})\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This option will search for a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"theme"}]},{"type":"text","value":" key in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"globals"}]},{"type":"text","value":", then search for a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"layout"}]},{"type":"text","value":" key inside that object. If found, that "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"layout"}]},{"type":"text","value":" key will be used as a fallback."}]},{"type":"element","tag":"h2","props":{"id":"global-variables"},"children":[{"type":"text","value":"Global variables"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Queries are be made from a "},{"type":"element","tag":"a","props":{"href":"https://v3.nuxtjs.org/guide/directory-structure/middleware#middleware-directory","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"route middlewares"}]},{"type":"text","value":" and are resolved before your page renders."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This gives access to the "},{"type":"element","tag":"a","props":{"href":"/api/composables/use-document-driven"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useContent()"}]}]},{"type":"text","value":" composable "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"anywhere in your app"}]},{"type":"text","value":" with the following variables:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"page"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"surround"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"navigation"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"globals"}]}]}]},{"type":"element","tag":"code","props":{"code":"<script setup lang=\"ts\">\nconst { navigation, page, surround, globals } = useContent()\n\nconsole.log(page.value)\n</script>\n","language":"html"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<script setup lang=\"ts\">\nconst { navigation, page, surround, globals } = useContent()\n\nconsole.log(page.value)\n</script>\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"extend-global-variables"},"children":[{"type":"text","value":"Extend global variables"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This mode gives you a convenient way to access file data globally in your application."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Use the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"documentDriven.globals"}]},{"type":"text","value":" key of in your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxt.config"}]},{"type":"text","value":" to specify a query:"}]},{"type":"element","tag":"code","props":{"code":"export default defineNuxtConfig({\n  content: {\n    documentDriven: {\n      globals: {\n        theme: {\n          where: [\n            {\n              _id: 'content:_theme.yml'\n            }\n          ],\n          without: ['_']\n        }\n      }\n    }\n  }\n})\n","filename":"nuxt.config.ts","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"export default defineNuxtConfig({\n  content: {\n    documentDriven: {\n      globals: {\n        theme: {\n          where: [\n            {\n              _id: 'content:_theme.yml'\n            }\n          ],\n          without: ['_']\n        }\n      }\n    }\n  }\n})\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This configuration will search for a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"_theme.yml"}]},{"type":"text","value":" file in the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"content/"}]},{"type":"text","value":" directory."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If found, a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"theme"}]},{"type":"text","value":" object will be accessible via "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useContent().globals"}]},{"type":"text","value":":"}]},{"type":"element","tag":"code","props":{"code":"const { theme } = useContent().globals\n","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"const { theme } = useContent().globals\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Any changes to these files will be automatically reflected in the application during development."}]},{"type":"element","tag":"h2","props":{"id":"disable-or-control-the-page-data"},"children":[{"type":"text","value":"Disable or control the page data"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Using special "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"documentDriven"}]},{"type":"text","value":" meta in your pages, you can disable this feature for specific route or control it's behavior."}]},{"type":"element","tag":"h3","props":{"id":"disable-document-driven"},"children":[{"type":"text","value":"Disable document driven"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Setting "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"documentDriven"}]},{"type":"text","value":" to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"false"}]},{"type":"text","value":" will disable document driven. This means that exposed refs from "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useContent()"}]},{"type":"text","value":" will be "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"undefined"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"<script setup lang=\"ts\">\ndefinePageMeta({\n  documentDriven: false\n})\n</script>\n","language":"html"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<script setup lang=\"ts\">\ndefinePageMeta({\n  documentDriven: false\n})\n</script>\n"}]}]}]},{"type":"element","tag":"h3","props":{"id":"control-data"},"children":[{"type":"text","value":"Control data"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To control document driven data you can pass an object to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"documentDriven"}]},{"type":"text","value":" meta key and enable/disable specific parts of it."}]},{"type":"element","tag":"code","props":{"code":"<script setup lang=\"ts\">\ndefinePageMeta({\n  documentDriven: {\n    page: true, // Keep page fetching enabled\n    surround: false // Disable surround fetching\n  }\n})\n</script>\n","language":"html"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<script setup lang=\"ts\">\ndefinePageMeta({\n  documentDriven: {\n    page: true, // Keep page fetching enabled\n    surround: false // Disable surround fetching\n  }\n})\n</script>\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"example"},"children":[{"type":"text","value":"Example"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Jump into the "},{"type":"element","tag":"a","props":{"href":"/examples/essentials/document-driven"},"children":[{"type":"text","value":"Document Driven Example"}]},{"type":"text","value":" to see a working example."}]}]},"_type":"markdown","_id":"content:3.guide:1.writing:7.document-driven.md","_source":"content","_file":"3.guide/1.writing/7.document-driven.md","_extension":"md"},{"_path":"/guide/displaying/querying","_draft":false,"_partial":false,"_empty":false,"title":"Querying","description":"Any component or page of your application can fetch content from the content/ directory.","excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code-inline","props":{"lang":"ts"},"children":[{"type":"text","value":"queryContent()"}]},{"type":"text","value":" function is auto-imported by Nuxt Content to build queries with a MongoDB-like syntax."}]},{"type":"element","tag":"h2","props":{"id":"usage"},"children":[{"type":"text","value":"Usage"}]},{"type":"element","tag":"h3","props":{"id":"create-a-query-builder"},"children":[{"type":"text","value":"Create a query builder"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Create a new query builder with "},{"type":"element","tag":"code-inline","props":{"lang":"ts"},"children":[{"type":"text","value":"queryContent()"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can give a path as a parameter, starting at the root of your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"content/"}]},{"type":"text","value":" directory."}]},{"type":"element","tag":"code","props":{"code":"queryContent('/')\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"queryContent('/')\n"}]}]}]},{"type":"element","tag":"h3","props":{"id":"resolve-the-query"},"children":[{"type":"text","value":"Resolve the query"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Resolve the query with one of these methods:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{"lang":"ts"},"children":[{"type":"text","value":"find()"}]},{"type":"text","value":" will always return an array of one or more items corresponding to documents in the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"content/"}]},{"type":"text","value":" directory."}]}]},{"type":"element","tag":"code","props":{"code":"/* returns every document found at the root (/) path of the content/ directory */\nqueryContent('/').find()\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"/* returns every document found at the root (/) path of the content/ directory */\nqueryContent('/').find()\n"}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{"lang":"ts"},"children":[{"type":"text","value":"findOne()"}]},{"type":"text","value":" will return an object corresponding to the matching document."}]}]},{"type":"element","tag":"code","props":{"code":"/* returns only the matching index.md found at the root (/) path of the content/ directory */\nqueryContent('/').findOne()\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"/* returns only the matching index.md found at the root (/) path of the content/ directory */\nqueryContent('/').findOne()\n"}]}]}]},{"type":"element","tag":"h3","props":{"id":"with-useasyncdata"},"children":[{"type":"text","value":"With "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useAsyncData"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Wrap your query in the "},{"type":"element","tag":"a","props":{"href":"https://v3.nuxtjs.org/api/composables/use-async-data","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useAsyncData"}]},{"type":"text","value":" composable"}]},{"type":"text","value":" (auto-imported as well)."}]},{"type":"element","tag":"code","props":{"code":"const { data } = await useAsyncData('home', () => queryContent('/').findOne())\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"const { data } = await useAsyncData('home', () => queryContent('/').findOne())\n"}]}]}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"<script setup>\nconst { data } = await useAsyncData('home', () => queryContent('/').findOne())\n</script>\n\n<template>\n<main>\n  <pre>\n    {{ data }}\n  </pre>\n</main>\n</template>\n","filename":"app.vue","language":"vue"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<script setup>\nconst { data } = await useAsyncData('home', () => queryContent('/').findOne())\n</script>\n\n<template>\n<main>\n  <pre>\n    {{ data }}\n  </pre>\n</main>\n</template>\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"  # Hello Content v2!\n\n  Content V2 is a Git-based CMS\n","filename":"content/index.md","language":"md"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"  # Hello Content v2!\n\n  Content V2 is a Git-based CMS\n"}]}]}]},{"type":"element","tag":"code-block","props":{":preview":"true","label":"Preview","preview":true},"children":[{"type":"text","value":"  "},{"type":"element","tag":"pre","props":{},"children":[{"type":"text","value":"  {\n    \"_path\":\"/\",\n    \"_draft\":false,\n    \"_partial\":false,\n    \"_empty\":false,\n    \"title\":\"Hello Content V2!\",\n    \"description\":\"\",\n    \"body\":{\n      \"type\":\"root\",\n      \"children\":[\n        {\n            \"type\":\"element\",\n            \"tag\":\"h1\",\n            \"props\":{\n              \"id\":\"hello-content-v2\"\n            },\n            \"children\":[\n              {\n                  \"type\":\"text\",\n                  \"value\":\"Hello Content V2!\"\n              }\n            ]\n        }\n      ],\n      \"toc\":{\n        \"title\":\"\",\n        \"searchDepth\":2,\n        \"depth\":2,\n        \"links\":[]\n      }\n    },\n    \"_type\":\"markdown\",\n    \"_id\":\"content:index.md\",\n    \"_source\":\"content\",\n    \"_file\":\"index.md\",\n    \"_extension\":\"md\"\n  }\n  "}]}]}]},{"type":"element","tag":"h2","props":{"id":"query-builder"},"children":[{"type":"text","value":"Query builder"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{"lang":"ts"},"children":[{"type":"text","value":"queryContent()"}]},{"type":"text","value":" supports methods chaining to create advanced queries."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Once your query is ready, make sure to end your call with "},{"type":"element","tag":"code-inline","props":{"lang":"ts"},"children":[{"type":"text","value":".find()"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{"lang":"ts"},"children":[{"type":"text","value":".findOne()"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{"lang":"ts"},"children":[{"type":"text","value":".findSurround()"}]},{"type":"text","value":" to effectively trigger data fetching."}]},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Discover every query methods in the "},{"type":"element","tag":"a","props":{"href":"/api/composables/query-content"},"children":[{"type":"text","value":"API reference"}]}]}]},{"type":"element","tag":"h3","props":{"id":"example"},"children":[{"type":"text","value":"Example"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This example uses the "},{"type":"element","tag":"code-inline","props":{"lang":"ts"},"children":[{"type":"text","value":"where()"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{"lang":"ts"},"children":[{"type":"text","value":"only()"}]},{"type":"text","value":" methods to fetch the title of the document corresponding to the current browser URL."}]},{"type":"element","tag":"code","props":{"code":"<script setup>\nconst { path } = useRoute()\n\nconst { data } = await useAsyncData(`content-${path}`, () => {\n  return queryContent().where({ _path: path }).only(['title']).findOne()\n})\n</script>\n\n<template>\n  <main>\n    <h1>{{ data.title }}</h1>\n  </main>\n</template>\n","language":"html"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<script setup>\nconst { path } = useRoute()\n\nconst { data } = await useAsyncData(`content-${path}`, () => {\n  return queryContent().where({ _path: path }).only(['title']).findOne()\n})\n</script>\n\n<template>\n  <main>\n    <h1>{{ data.title }}</h1>\n  </main>\n</template>\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"api-routes"},"children":[{"type":"text","value":"API routes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nuxt Content creates a REST "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GET"}]},{"type":"text","value":" endpoint for each document in the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"content/"}]},{"type":"text","value":" directory."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The API root path "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/api/_content/query"}]},{"type":"text","value":" accepts query parameters such as:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/api/_content/query?only=title"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/api/_content/query?sort=size:1"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/api/_content/query?without=body"}]}]}]},{"type":"element","tag":"h3","props":{"id":"example-1"},"children":[{"type":"text","value":"Example"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"# Hello Content v2!\n","filename":"content/hello.md","language":"md"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# Hello Content v2!\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"/api/_content/query?path=/hello\n","filename":"Endpoint","language":"text"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"/api/_content/query?path=/hello\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"[\n  {\n    \"_path\": \"/hello\",\n    \"_draft\": false,\n    \"_partial\": false,\n    \"_empty\": false,\n    \"title\": \"Hello!\",\n    \"description\": \"\",\n    \"body\": {\n      \"type\": \"root\",\n      \"children\": [\n        {\n          \"type\": \"element\",\n          \"tag\": \"h1\",\n          \"props\": {\n            \"id\": \"hello!\"\n          },\n          \"children\": [\n            {\n              \"type\": \"text\",\n              \"value\": \"Hello!\"\n            }\n          ]\n        }\n      ],\n      \"toc\": {\n        \"title\": \"\",\n        \"searchDepth\": 2,\n        \"depth\": 2,\n        \"links\": []\n      }\n    },\n    \"_type\": \"markdown\",\n    \"_id\": \"content:hello.md\",\n    \"_source\": \"content\",\n    \"_file\": \"hello.md\",\n    \"_extension\": \"md\"\n  }\n]\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"[\n  {\n    \"_path\": \"/hello\",\n    \"_draft\": false,\n    \"_partial\": false,\n    \"_empty\": false,\n    \"title\": \"Hello!\",\n    \"description\": \"\",\n    \"body\": {\n      \"type\": \"root\",\n      \"children\": [\n        {\n          \"type\": \"element\",\n          \"tag\": \"h1\",\n          \"props\": {\n            \"id\": \"hello!\"\n          },\n          \"children\": [\n            {\n              \"type\": \"text\",\n              \"value\": \"Hello!\"\n            }\n          ]\n        }\n      ],\n      \"toc\": {\n        \"title\": \"\",\n        \"searchDepth\": 2,\n        \"depth\": 2,\n        \"links\": []\n      }\n    },\n    \"_type\": \"markdown\",\n    \"_id\": \"content:hello.md\",\n    \"_source\": \"content\",\n    \"_file\": \"hello.md\",\n    \"_extension\": \"md\"\n  }\n]\n"}]}]}]}]}]},"_type":"markdown","_id":"content:3.guide:2.displaying:2.querying.md","_source":"content","_file":"3.guide/2.displaying/2.querying.md","_extension":"md"}]