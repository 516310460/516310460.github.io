[{"_path":"/fr/v1/examples/docs-theme","_draft":false,"_partial":false,"_empty":false,"title":"Exemple de thèmes de documentation","description":"Exemple en direct du thème de la documentation Nuxt Content sur CodeSandbox.","excerpt":{"type":"root","children":[{"type":"element","tag":"sandbox","props":{"src":"https://codesandbox.io/embed/nuxt-content-docs-theme-playground-inwxb?hidenavigation=1&theme=dark"},"children":[]}]},"toc":true,"_type":"markdown","_id":"v1-fr:fr:v1:2.examples:3.docs-theme.md","_source":"v1-fr","_file":"fr/v1/2.examples/3.docs-theme.md","_extension":"md"},{"_path":"/fr/v1/community/integrations","_draft":false,"_partial":false,"_empty":false,"title":"Intégrations","description":"Apprenez comment utiliser @nuxt/content avec d'autres modules.","excerpt":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"nuxtjsfeed"},"children":[{"type":"text","value":"@nuxtjs/feed"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Dans le cas d'articles, le contenu peut être utilisé pour générer des fils d'actualités\nen utilisant le module "},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt-community/feed-module","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"@nuxtjs/feed"}]},{"type":"text","value":"."}]},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Pour utiliser "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"$content"}]},{"type":"text","value":" à l'intérieur de l'option "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"feed"}]},{"type":"text","value":", vous devez ajouter "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"@nuxt/content"}]},{"type":"text","value":" avant "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"@nuxtjs/feed"}]},{"type":"text","value":" dans la propriété "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"modules"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Vous pouvez accéder à votre flux via : "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"baseUrl + baseLinkFeedArticles + file"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Pour RSS: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"https://mywebsite.com/feed/articles/rss.xml"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Pour JSON: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"https://mywebsite.com/feed/articles/feed.json"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Exemple 1"}]}]},{"type":"element","tag":"code","props":{"code":"export default {\n  modules: [\n    '@nuxt/content',\n    '@nuxtjs/feed'\n  ],\n\n  feed () {\n    const baseUrlArticles = 'https://mywebsite.com/articles'\n    const baseLinkFeedArticles = '/feed/articles'\n    const feedFormats = {\n      rss: { type: 'rss2', file: 'rss.xml' },\n      json: { type: 'json1', file: 'feed.json' },\n    }\n    const { $content } = require('@nuxt/content')\n\n    const createFeedArticles = async function (feed) {\n      feed.options = {\n        title: 'My Blog',\n        description: 'I write about technology',\n        link: baseUrlArticles,\n      }\n      const articles = await $content('articles').fetch()\n\n      articles.forEach((article) => {\n        const url = `${baseUrlArticles}/${article.slug}`\n\n        feed.addItem({\n          title: article.title,\n          id: url,\n          link: url,\n          date: article.published,\n          description: article.summary,\n          content: article.summary,\n          author: article.authors,\n        })\n      })\n    }\n\n    return Object.values(feedFormats).map(({ file, type }) => ({\n      path: `${baseLinkFeedArticles}/${file}`,\n      type: type,\n      create: createFeedArticles,\n    }))\n  }\n}\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"export default {\n  modules: [\n    '@nuxt/content',\n    '@nuxtjs/feed'\n  ],\n\n  feed () {\n    const baseUrlArticles = 'https://mywebsite.com/articles'\n    const baseLinkFeedArticles = '/feed/articles'\n    const feedFormats = {\n      rss: { type: 'rss2', file: 'rss.xml' },\n      json: { type: 'json1', file: 'feed.json' },\n    }\n    const { $content } = require('@nuxt/content')\n\n    const createFeedArticles = async function (feed) {\n      feed.options = {\n        title: 'My Blog',\n        description: 'I write about technology',\n        link: baseUrlArticles,\n      }\n      const articles = await $content('articles').fetch()\n\n      articles.forEach((article) => {\n        const url = `${baseUrlArticles}/${article.slug}`\n\n        feed.addItem({\n          title: article.title,\n          id: url,\n          link: url,\n          date: article.published,\n          description: article.summary,\n          content: article.summary,\n          author: article.authors,\n        })\n      })\n    }\n\n    return Object.values(feedFormats).map(({ file, type }) => ({\n      path: `${baseLinkFeedArticles}/${file}`,\n      type: type,\n      create: createFeedArticles,\n    }))\n  }\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"L'approche ci-dessus fonctionne bien pour certains cas d'utilisation. Cependant, si vous utilisez "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"npm run generate"}]},{"type":"text","value":", cette approche produira une erreur."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Ou, si vous souhaitez inclure le corps de l'article en tant que contenu, y compris le contenu des composants si vous mélangez vos composants Vue et votre markdown, vous devrez aborder cela différemment."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Une façon possible pour faire cela est d'utiliser l'approche documentée de "},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt-community/feed-module","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"@nuxtjs/feed"}]},{"type":"text","value":" qui fonctionnera avec "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"npm run generate"}]},{"type":"text","value":" et utilisera le processus de Nuxt pour inclure le contenu. Voici comment procéder."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Tout d'abord, utilisez l'approche basée sur les tableaux pour déclarer vos flux comme indiqué dans la documentation @nuxtjs/feed. Le tableau de flux se compose d'objets avec 5 valeurs possibles."}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Le "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"path"}]},{"type":"text","value":" qui le chemin de votre nom de domaine vers le flux de votre document."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Une fonction qui générera le contenu du flux."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Le "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"cacheTime"}]},{"type":"text","value":" qui comme son nom l'indique détermine quand le flux doit être actualisé."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Le "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"type"}]},{"type":"text","value":" qui détermine quel type de flux rss que vous souhaitez générer."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Les "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"data"}]},{"type":"text","value":" qui sont fournies comme argument à la fonction (la propriété args dans l'exemple ci-dessous)"}]}]},{"type":"element","tag":"code","props":{"code":"modules: [    \n    '@nuxt/content',\n    '@nuxtjs/feed'    \n  ],\n\n  feed: [\n    {\n      path: '/feed.xml',\n      async create(feed, args) => {  \n        // create the feed\n      },\n      cacheTime: 1000 * 60 * 15,\n      type: 'rss2',\n      data: [ 'some', 'info' ]\n    },\n    {\n      path: '/feed.json',\n      async create(feed, args) => {  \n        // create the feed\n      },\n      cacheTime: 1000 * 60 * 15,\n      type: 'json1',\n      data: [ 'other', 'info' ]\n    }\n  ],\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"modules: [    \n    '@nuxt/content',\n    '@nuxtjs/feed'    \n  ],\n\n  feed: [\n    {\n      path: '/feed.xml',\n      async create(feed, args) => {  \n        // create the feed\n      },\n      cacheTime: 1000 * 60 * 15,\n      type: 'rss2',\n      data: [ 'some', 'info' ]\n    },\n    {\n      path: '/feed.json',\n      async create(feed, args) => {  \n        // create the feed\n      },\n      cacheTime: 1000 * 60 * 15,\n      type: 'json1',\n      data: [ 'other', 'info' ]\n    }\n  ],\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Vous pouvez tirer le meilleur de l'API nuxt/content, mais en déclarant votre fonction "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"create"}]},{"type":"text","value":" séparément, puis en la fournissant à l'objet de tableau de flux. La fonction "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"create"}]},{"type":"text","value":" peut être déclarée en haut du fichier nuxt.config.js, ou séparément dans un autre répertoire et exportée. Cette fonction "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"create"}]},{"type":"text","value":" s'exécute "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"après"}]},{"type":"text","value":" que le processus Nuxt a compilé les composants markdown et Vue en HTML. Cela nous permet d'extraire ce contenu et de le fournir au flux."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Exemple 2"}]}]},{"type":"element","tag":"code","props":{"code":"// this Exemple declares the function at the top of the nuxt.config.js file\nconst fs = require('fs').promises;\nconst path = require('path');\n\nlet posts = [];\n\nconst constructFeedItem = async (post, dir, hostname) => {  \n  //note the path used here, we are using a dummy page with an empty layout in order to not send that data along with our other content\n  const filePath = path.join(__dirname, `dist/rss/${post.slug}/index.html`); \n  const content = await fs.readFile(filePath, 'utf8');\n  const url = `${hostname}/${dir}/${post.slug}`;\n  return {\n    title: post.title,\n    id: url,\n    link: url,\n    description: post.description,\n    content: content\n  }\n} \n\nconst create = async (feed, args) => {\n  const [filePath, ext] = args;  \n  const hostname = process.NODE_ENV === 'production' ? 'https://my-production-domain.com' : 'http://localhost:3000';\n  feed.options = {\n    title: \"My Blog\",\n    description: \"Blog Stuff!\",\n    link: `${hostname}/feed.${ext}`\n  }\n  const { $content } = require('@nuxt/content')\n  if (posts === null || posts.length === 0)\n    posts = await $content(filePath).fetch();\n\n  for (const post of posts) {\n    const feedItem = await constructFeedItem(post, filePath, hostname);\n    feed.addItem(feedItem);\n  }\n  return feed;\n}\n\nexport default {\n...\n  modules: [    \n    '@nuxt/content',\n    '@nuxtjs/feed'    \n  ],\n  feed: [\n    {\n      path: '/feed.xml',\n      create,\n      cacheTime: 1000 * 60 * 15,\n      type: 'rss2',\n      data: [ 'blog', 'xml' ]\n    },\n  ],  \n...\n}\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// this Exemple declares the function at the top of the nuxt.config.js file\nconst fs = require('fs').promises;\nconst path = require('path');\n\nlet posts = [];\n\nconst constructFeedItem = async (post, dir, hostname) => {  \n  //note the path used here, we are using a dummy page with an empty layout in order to not send that data along with our other content\n  const filePath = path.join(__dirname, `dist/rss/${post.slug}/index.html`); \n  const content = await fs.readFile(filePath, 'utf8');\n  const url = `${hostname}/${dir}/${post.slug}`;\n  return {\n    title: post.title,\n    id: url,\n    link: url,\n    description: post.description,\n    content: content\n  }\n} \n\nconst create = async (feed, args) => {\n  const [filePath, ext] = args;  \n  const hostname = process.NODE_ENV === 'production' ? 'https://my-production-domain.com' : 'http://localhost:3000';\n  feed.options = {\n    title: \"My Blog\",\n    description: \"Blog Stuff!\",\n    link: `${hostname}/feed.${ext}`\n  }\n  const { $content } = require('@nuxt/content')\n  if (posts === null || posts.length === 0)\n    posts = await $content(filePath).fetch();\n\n  for (const post of posts) {\n    const feedItem = await constructFeedItem(post, filePath, hostname);\n    feed.addItem(feedItem);\n  }\n  return feed;\n}\n\nexport default {\n...\n  modules: [    \n    '@nuxt/content',\n    '@nuxtjs/feed'    \n  ],\n  feed: [\n    {\n      path: '/feed.xml',\n      create,\n      cacheTime: 1000 * 60 * 15,\n      type: 'rss2',\n      data: [ 'blog', 'xml' ]\n    },\n  ],  \n...\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Il y a cependant deux inconvénients à cette approche :"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Puisque vous lisez la totalité de la page générée, vous pouvez récupérer du contenu indésirable tel que celui de l'en-tête et du pied de page. Une façon de résoudre ce problème consiste à créer une page factice en utilisant une mise en page vide afin que seul le contenu que vous souhaitez inclure dans le flux rss soit utilisé."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"rss2 et XML fonctionnent bien car le HTML est automatiquement encodé. Cependant, json1 et json peuvent nécessiter du travail supplémentaire pour que le contenu puisse être transmis."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"N'oubliez pas également que si vous n'utilisez pas de contenu mixte dans votre markdown (donc si vous n'utilisez que du markdown), il est beaucoup plus facile d'inclure uniquement celui-ci. Vous pouvez récupérer le markdown en utilisant ce hook dans votre nuxt.config.js :"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Exemple 3"}]}]},{"type":"element","tag":"code","props":{"code":"export default {\n...\n  hooks: {\n    'content:file:beforeInsert': (document) => {\n      if (document.extension === '.md') {      \n        document.bodyPlainText = document.text;\n      }\n    },\n  },\n...\n}\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"export default {\n...\n  hooks: {\n    'content:file:beforeInsert': (document) => {\n      if (document.extension === '.md') {      \n        document.bodyPlainText = document.text;\n      }\n    },\n  },\n...\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Et puis dans votre fonction "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"create"}]},{"type":"text","value":" :"}]},{"type":"element","tag":"code","props":{"code":"\nconst constructFeedItem = (post, dir, hostname) => {  \n  const url = `${hostname}/${dir}/${post.slug}`;\n  return {\n    title: post.title,\n    id: url,\n    link: url,\n    description: post.description,\n    content: post.bodyPlainText\n  }\n} \n\nconst create = async (feed, args) => {\n  const [filePath, ext] = args;  \n  const hostname = process.NODE_ENV === 'production' ? 'https://my-production-domain.com' : 'http://localhost:3000';\n  feed.options = {\n    title: \"My Blog\",\n    description: \"Blog Stuff!\",\n    link: `${hostname}/feed.${ext}`\n  }\n  const { $content } = require('@nuxt/content')\n  if (posts === null || posts.length === 0)\n    posts = await $content(filePath).fetch();\n\n  for (const post of posts) {\n    const feedItem = await constructFeedItem(post, filePath, hostname);\n    feed.addItem(feedItem);\n  }\n  return feed;\n}\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"\nconst constructFeedItem = (post, dir, hostname) => {  \n  const url = `${hostname}/${dir}/${post.slug}`;\n  return {\n    title: post.title,\n    id: url,\n    link: url,\n    description: post.description,\n    content: post.bodyPlainText\n  }\n} \n\nconst create = async (feed, args) => {\n  const [filePath, ext] = args;  \n  const hostname = process.NODE_ENV === 'production' ? 'https://my-production-domain.com' : 'http://localhost:3000';\n  feed.options = {\n    title: \"My Blog\",\n    description: \"Blog Stuff!\",\n    link: `${hostname}/feed.${ext}`\n  }\n  const { $content } = require('@nuxt/content')\n  if (posts === null || posts.length === 0)\n    posts = await $content(filePath).fetch();\n\n  for (const post of posts) {\n    const feedItem = await constructFeedItem(post, filePath, hostname);\n    feed.addItem(feedItem);\n  }\n  return feed;\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Récupérer uniquement le markdown fonctionne très bien si vous utilisez le flux pour intégrer "},{"type":"element","tag":"a","props":{"href":"https://dev.to/","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"dev.to"}]},{"type":"text","value":" ou "},{"type":"element","tag":"a","props":{"href":"https://medium.com/","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"medium"}]},{"type":"text","value":" puisque ces deux sites utiliser markdown dans leurs éditeurs."}]},{"type":"element","tag":"h2","props":{"id":"nuxtjssitemap"},"children":[{"type":"text","value":"@nuxtjs/sitemap"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Vous souhaiterez peut-être générer un plan du site contenant des liens vers tous vos articles. Vous pouvez le faire de la même manière que vous avez généré votre flux."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Exemple 1"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Le module du plan du site doit toujours être déclaré en dernier afin que les routes créées par d'autres modules puissent être incluses. Après avoir déclaré le module, vous devez configurer le plan du site en ajoutant l'objet de configuration du plan du site dans nuxt.config.js. Vous devez fournir le nom d'hôte et vous pouvez éventuellement inclure toutes les routes générées dynamiquement à partir de nuxt-content.\nLa propriété routes accepte une fonction asynchrone qui renvoie un tableau d'URL."}]},{"type":"element","tag":"code","props":{"code":"const createSitemapRoutes = async () => {\n  let routes = [];\n  const { $content } = require('@nuxt/content')\n  if (posts === null || posts.length === 0)\n    posts = await $content('blog').fetch();\n  for (const post of posts) {\n    routes.push(`blog/${post.slug}`);\n  }\n  return routes;\n}\n\nexport default {\n...\n  modules: [\n    '@nuxt/content',\n    '@nuxtjs/sitemap'\n  ],\n  sitemap: {\n    hostname: 'https://my-domain-name.com',\n    gzip: true,\n    routes: createSitemapRoutes\n  },\n...\n}\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"const createSitemapRoutes = async () => {\n  let routes = [];\n  const { $content } = require('@nuxt/content')\n  if (posts === null || posts.length === 0)\n    posts = await $content('blog').fetch();\n  for (const post of posts) {\n    routes.push(`blog/${post.slug}`);\n  }\n  return routes;\n}\n\nexport default {\n...\n  modules: [\n    '@nuxt/content',\n    '@nuxtjs/sitemap'\n  ],\n  sitemap: {\n    hostname: 'https://my-domain-name.com',\n    gzip: true,\n    routes: createSitemapRoutes\n  },\n...\n}\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"forestry-cms"},"children":[{"type":"text","value":"Forestry CMS"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Vous pouvez intégrer Nuxt Content avec "},{"type":"element","tag":"a","props":{"href":"https://forestry.io","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"Forestry"}]},{"type":"text","value":" en quelques étapes."}]},{"type":"element","tag":"alert","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nous vous recommandons de jeter un œil à ce tutoriel réalisé par "},{"type":"element","tag":"a","props":{"href":"https://twitter.com/eQRoeil","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"Pascal Cauhépé"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"👉  "},{"type":"element","tag":"a","props":{"href":"https://nuxt-content-and-forestry.netlify.app","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"https://nuxt-content-and-forestry.netlify.app"}]}]}]}]},"_type":"markdown","_id":"v1-fr:fr:v1:3.community:2.integrations.md","_source":"v1-fr","_file":"fr/v1/3.community/2.integrations.md","_extension":"md"}]