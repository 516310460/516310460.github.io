[{"_path":"/api/advanced","_draft":false,"_partial":false,"_empty":false,"title":"Advanced","description":"Nuxt Content is highly customizable, giving you freedom and control over how the data is transformed.","excerpt":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"hooks"},"children":[{"type":"text","value":"Hooks"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The module adds some hooks you can use:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"content:file:*"}]},{"type":"text","value":" hooks are available in nitro runtime, in order to use them you need to create custom "},{"type":"element","tag":"a","props":{"href":"https://nitro.unjs.io/guide/plugins.html","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"nitro plugin"}]},{"type":"text","value":"."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create a plugin in the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"server/plugins/"}]},{"type":"text","value":" directory"},{"type":"element","tag":"code","props":{"code":"export default defineNitroPlugin((nitroApp) => {\n  // ...\n})\n","filename":"server/plugins/content.ts","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"export default defineNitroPlugin((nitroApp) => {\n  // ...\n})\n"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Register the plugin in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxt.config.ts"}]},{"type":"element","tag":"code","props":{"code":"export default defineNuxtConfig({\n  // ...\n  nitro: {\n    plugins: ['~/server/plugins/content.ts']\n  }\n})\n","filename":"nuxt.config.ts","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"export default defineNuxtConfig({\n  // ...\n  nitro: {\n    plugins: ['~/server/plugins/content.ts']\n  }\n})\n"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"contentfilebeforeparse"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"content:file:beforeParse"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Allows you to modify the contents of a file before it is handled by the parsers."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Arguments:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"file"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Type: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Object"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Properties:"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"_id: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"String"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"body: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"String"}]}]}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"example"},"children":[{"type":"text","value":"Example"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Changing all occurrences of react to vue in all Markdown files:"}]},{"type":"element","tag":"code","props":{"code":"export default defineNitroPlugin((nitroApp) => {\n  nitroApp.hooks.hook('content:file:beforeParse', (file) => {\n    if (file._id.endsWith('.md')) {\n      file.body = file.body.replace(/react/g, 'vue')\n    }\n  })\n})\n","filename":"server/plugins/content.ts","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"export default defineNitroPlugin((nitroApp) => {\n  nitroApp.hooks.hook('content:file:beforeParse', (file) => {\n    if (file._id.endsWith('.md')) {\n      file.body = file.body.replace(/react/g, 'vue')\n    }\n  })\n})\n"}]}]}]},{"type":"element","tag":"h3","props":{"id":"contentfileafterparse"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"content:file:afterParse"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Allows you to modify a document after being parsed by parsers."}]},{"type":"element","tag":"h3","props":{"id":"example-1"},"children":[{"type":"text","value":"Example"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Using content's first picture as cover image."}]},{"type":"element","tag":"code","props":{"code":"import { visit } from 'unist-util-visit'\n\nexport default defineNitroPlugin((nitroApp) => {\n  nitroApp.hooks.hook('content:file:afterParse', (file) => {\n    if (file._id.endsWith('.md')) {\n      visit(file.body, (n:any) => n.tag === 'img', (node) => {\n        file.coverImage = node.props.src\n      })\n    }\n  })\n})\n\n","filename":"server/plugins/content.ts","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import { visit } from 'unist-util-visit'\n\nexport default defineNitroPlugin((nitroApp) => {\n  nitroApp.hooks.hook('content:file:afterParse', (file) => {\n    if (file._id.endsWith('.md')) {\n      visit(file.body, (n:any) => n.tag === 'img', (node) => {\n        file.coverImage = node.props.src\n      })\n    }\n  })\n})\n\n"}]}]}]}]},"icon":"heroicons-outline:lightning-bolt","_type":"markdown","_id":"content:4.api:4.advanced.md","_source":"content","_file":"4.api/4.advanced.md","_extension":"md"},{"_path":"/examples/essentials/document-driven","_draft":false,"_partial":false,"_empty":false,"title":"Document Driven","description":"Discover the document-driven mode of Nuxt Content in a live example.","excerpt":{"type":"root","children":[{"type":"element","tag":"read-more","props":{"link":"/guide/writing/document-driven"},"children":[]},{"type":"element","tag":"sandbox","props":{"branch":"main","dir":"examples/essentials/document-driven","file":"index.md","repo":"nuxt/content"},"children":[]}]},"toc":false,"_type":"markdown","_id":"content:5.examples:1.essentials:2.document-driven.md","_source":"content","_file":"5.examples/1.essentials/2.document-driven.md","_extension":"md"}]