import be from"./NCard-ed670ab8.mjs";import{a as pe}from"./index-555682f3.mjs";import{X as he,Y as ge,U as me,A as L,E as ae,_ as ye,d as we,B as Te,o as Ne,c as Se,a as Ee,n as K,j as Fe,w as Oe,g as De,Z as Ce}from"./entry-1ea7b20d.mjs";import"./index-ec1b6683.mjs";var z;const k=typeof window!="undefined";k&&((z=window==null?void 0:window.navigator)==null?void 0:z.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Re(r){return he()?(ge(r),!0):!1}function _e(r){var e;const t=me(r);return(e=t==null?void 0:t.$el)!=null?e:t}k&&window.document;k&&window.navigator;k&&window.location;const j=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},B="__vueuse_ssr_handlers__";j[B]=j[B]||{};j[B];var W;(function(r){r.UP="UP",r.RIGHT="RIGHT",r.DOWN="DOWN",r.LEFT="LEFT",r.NONE="NONE"})(W||(W={}));/*!
* tabbable 5.3.3
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var re=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],R=re.join(","),ne=typeof Element=="undefined",N=ne?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,G=!ne&&Element.prototype.getRootNode?function(r){return r.getRootNode()}:function(r){return r.ownerDocument},ie=function(e,t,a){var n=Array.prototype.slice.apply(e.querySelectorAll(R));return t&&N.call(e,R)&&n.unshift(e),n=n.filter(a),n},oe=function r(e,t,a){for(var n=[],i=Array.from(e);i.length;){var s=i.shift();if(s.tagName==="SLOT"){var l=s.assignedElements(),p=l.length?l:s.children,d=r(p,!0,a);a.flatten?n.push.apply(n,d):n.push({scope:s,candidates:d})}else{var h=N.call(s,R);h&&a.filter(s)&&(t||!e.includes(s))&&n.push(s);var m=s.shadowRoot||typeof a.getShadowRoot=="function"&&a.getShadowRoot(s),y=!a.shadowRootFilter||a.shadowRootFilter(s);if(m&&y){var S=r(m===!0?s.children:m.children,!0,a);a.flatten?n.push.apply(n,S):n.push({scope:s,candidates:S})}else i.unshift.apply(i,s.children)}}return n},ue=function(e,t){return e.tabIndex<0&&(t||/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||e.isContentEditable)&&isNaN(parseInt(e.getAttribute("tabindex"),10))?0:e.tabIndex},Pe=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},se=function(e){return e.tagName==="INPUT"},ke=function(e){return se(e)&&e.type==="hidden"},Ie=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(a){return a.tagName==="SUMMARY"});return t},Ae=function(e,t){for(var a=0;a<e.length;a++)if(e[a].checked&&e[a].form===t)return e[a]},xe=function(e){if(!e.name)return!0;var t=e.form||G(e),a=function(l){return t.querySelectorAll('input[type="radio"][name="'+l+'"]')},n;if(typeof window!="undefined"&&typeof window.CSS!="undefined"&&typeof window.CSS.escape=="function")n=a(window.CSS.escape(e.name));else try{n=a(e.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var i=Ae(n,e.form);return!i||i===e},Le=function(e){return se(e)&&e.type==="radio"},je=function(e){return Le(e)&&!xe(e)},Y=function(e){var t=e.getBoundingClientRect(),a=t.width,n=t.height;return a===0&&n===0},Be=function(e,t){var a=t.displayCheck,n=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var i=N.call(e,"details>summary:first-of-type"),s=i?e.parentElement:e;if(N.call(s,"details:not([open]) *"))return!0;var l=G(e).host,p=(l==null?void 0:l.ownerDocument.contains(l))||e.ownerDocument.contains(e);if(!a||a==="full"){if(typeof n=="function"){for(var d=e;e;){var h=e.parentElement,m=G(e);if(h&&!h.shadowRoot&&n(h)===!0)return Y(e);e.assignedSlot?e=e.assignedSlot:!h&&m!==e.ownerDocument?e=m.host:e=h}e=d}if(p)return!e.getClientRects().length}else if(a==="non-zero-area")return Y(e);return!1},Ge=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var a=0;a<t.children.length;a++){var n=t.children.item(a);if(n.tagName==="LEGEND")return N.call(t,"fieldset[disabled] *")?!0:!n.contains(e)}return!0}t=t.parentElement}return!1},_=function(e,t){return!(t.disabled||ke(t)||Be(t,e)||Ie(t)||Ge(t))},M=function(e,t){return!(je(t)||ue(t)<0||!_(e,t))},Me=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},Ve=function r(e){var t=[],a=[];return e.forEach(function(n,i){var s=!!n.scope,l=s?n.scope:n,p=ue(l,s),d=s?r(n.candidates):l;p===0?s?t.push.apply(t,d):t.push(l):a.push({documentOrder:i,tabIndex:p,item:n,isScope:s,content:d})}),a.sort(Pe).reduce(function(n,i){return i.isScope?n.push.apply(n,i.content):n.push(i.content),n},[]).concat(t)},He=function(e,t){t=t||{};var a;return t.getShadowRoot?a=oe([e],t.includeContainer,{filter:M.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:Me}):a=ie(e,t.includeContainer,M.bind(null,t)),Ve(a)},Ue=function(e,t){t=t||{};var a;return t.getShadowRoot?a=oe([e],t.includeContainer,{filter:_.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):a=ie(e,t.includeContainer,_.bind(null,t)),a},D=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return N.call(e,R)===!1?!1:M(t,e)},$e=re.concat("iframe").join(","),x=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return N.call(e,$e)===!1?!1:_(t,e)};/*!
* focus-trap 6.9.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function Z(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),t.push.apply(t,a)}return t}function X(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Z(Object(t),!0).forEach(function(a){qe(r,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Z(Object(t)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(t,a))})}return r}function qe(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var Q=function(){var r=[];return{activateTrap:function(t){if(r.length>0){var a=r[r.length-1];a!==t&&a.pause()}var n=r.indexOf(t);n===-1||r.splice(n,1),r.push(t)},deactivateTrap:function(t){var a=r.indexOf(t);a!==-1&&r.splice(a,1),r.length>0&&r[r.length-1].unpause()}}}(),Ke=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},ze=function(e){return e.key==="Escape"||e.key==="Esc"||e.keyCode===27},We=function(e){return e.key==="Tab"||e.keyCode===9},J=function(e){return setTimeout(e,0)},ee=function(e,t){var a=-1;return e.every(function(n,i){return t(n)?(a=i,!1):!0}),a},F=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return typeof e=="function"?e.apply(void 0,a):e},C=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},Ye=function(e,t){var a=(t==null?void 0:t.document)||document,n=X({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},t),i={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},s,l=function(o,u,c){return o&&o[u]!==void 0?o[u]:n[c||u]},p=function(o){return i.containerGroups.findIndex(function(u){var c=u.container,b=u.tabbableNodes;return c.contains(o)||b.find(function(f){return f===o})})},d=function(o){var u=n[o];if(typeof u=="function"){for(var c=arguments.length,b=new Array(c>1?c-1:0),f=1;f<c;f++)b[f-1]=arguments[f];u=u.apply(void 0,b)}if(u===!0&&(u=void 0),!u){if(u===void 0||u===!1)return u;throw new Error("`".concat(o,"` was specified but was not a node, or did not return a node"))}var g=u;if(typeof u=="string"&&(g=a.querySelector(u),!g))throw new Error("`".concat(o,"` as selector refers to no known node"));return g},h=function(){var o=d("initialFocus");if(o===!1)return!1;if(o===void 0)if(p(a.activeElement)>=0)o=a.activeElement;else{var u=i.tabbableGroups[0],c=u&&u.firstTabbableNode;o=c||d("fallbackFocus")}if(!o)throw new Error("Your focus-trap needs to have at least one focusable element");return o},m=function(){if(i.containerGroups=i.containers.map(function(o){var u=He(o,n.tabbableOptions),c=Ue(o,n.tabbableOptions);return{container:o,tabbableNodes:u,focusableNodes:c,firstTabbableNode:u.length>0?u[0]:null,lastTabbableNode:u.length>0?u[u.length-1]:null,nextTabbableNode:function(f){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,w=c.findIndex(function(T){return T===f});if(!(w<0))return g?c.slice(w+1).find(function(T){return D(T,n.tabbableOptions)}):c.slice(0,w).reverse().find(function(T){return D(T,n.tabbableOptions)})}}}),i.tabbableGroups=i.containerGroups.filter(function(o){return o.tabbableNodes.length>0}),i.tabbableGroups.length<=0&&!d("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},y=function v(o){if(o!==!1&&o!==a.activeElement){if(!o||!o.focus){v(h());return}o.focus({preventScroll:!!n.preventScroll}),i.mostRecentlyFocusedNode=o,Ke(o)&&o.select()}},S=function(o){var u=d("setReturnFocus",o);return u||(u===!1?!1:o)},O=function(o){var u=C(o);if(!(p(u)>=0)){if(F(n.clickOutsideDeactivates,o)){s.deactivate({returnFocus:n.returnFocusOnDeactivate&&!x(u,n.tabbableOptions)});return}F(n.allowOutsideClick,o)||o.preventDefault()}},V=function(o){var u=C(o),c=p(u)>=0;c||u instanceof Document?c&&(i.mostRecentlyFocusedNode=u):(o.stopImmediatePropagation(),y(i.mostRecentlyFocusedNode||h()))},fe=function(o){var u=C(o);m();var c=null;if(i.tabbableGroups.length>0){var b=p(u),f=b>=0?i.containerGroups[b]:void 0;if(b<0)o.shiftKey?c=i.tabbableGroups[i.tabbableGroups.length-1].lastTabbableNode:c=i.tabbableGroups[0].firstTabbableNode;else if(o.shiftKey){var g=ee(i.tabbableGroups,function(I){var A=I.firstTabbableNode;return u===A});if(g<0&&(f.container===u||x(u,n.tabbableOptions)&&!D(u,n.tabbableOptions)&&!f.nextTabbableNode(u,!1))&&(g=b),g>=0){var w=g===0?i.tabbableGroups.length-1:g-1,T=i.tabbableGroups[w];c=T.lastTabbableNode}}else{var E=ee(i.tabbableGroups,function(I){var A=I.lastTabbableNode;return u===A});if(E<0&&(f.container===u||x(u,n.tabbableOptions)&&!D(u,n.tabbableOptions)&&!f.nextTabbableNode(u))&&(E=b),E>=0){var de=E===i.tabbableGroups.length-1?0:E+1,ve=i.tabbableGroups[de];c=ve.firstTabbableNode}}}else c=d("fallbackFocus");c&&(o.preventDefault(),y(c))},H=function(o){if(ze(o)&&F(n.escapeDeactivates,o)!==!1){o.preventDefault(),s.deactivate();return}if(We(o)){fe(o);return}},U=function(o){var u=C(o);p(u)>=0||F(n.clickOutsideDeactivates,o)||F(n.allowOutsideClick,o)||(o.preventDefault(),o.stopImmediatePropagation())},$=function(){if(!!i.active)return Q.activateTrap(s),i.delayInitialFocusTimer=n.delayInitialFocus?J(function(){y(h())}):y(h()),a.addEventListener("focusin",V,!0),a.addEventListener("mousedown",O,{capture:!0,passive:!1}),a.addEventListener("touchstart",O,{capture:!0,passive:!1}),a.addEventListener("click",U,{capture:!0,passive:!1}),a.addEventListener("keydown",H,{capture:!0,passive:!1}),s},q=function(){if(!!i.active)return a.removeEventListener("focusin",V,!0),a.removeEventListener("mousedown",O,!0),a.removeEventListener("touchstart",O,!0),a.removeEventListener("click",U,!0),a.removeEventListener("keydown",H,!0),s};return s={get active(){return i.active},get paused(){return i.paused},activate:function(o){if(i.active)return this;var u=l(o,"onActivate"),c=l(o,"onPostActivate"),b=l(o,"checkCanFocusTrap");b||m(),i.active=!0,i.paused=!1,i.nodeFocusedBeforeActivation=a.activeElement,u&&u();var f=function(){b&&m(),$(),c&&c()};return b?(b(i.containers.concat()).then(f,f),this):(f(),this)},deactivate:function(o){if(!i.active)return this;var u=X({onDeactivate:n.onDeactivate,onPostDeactivate:n.onPostDeactivate,checkCanReturnFocus:n.checkCanReturnFocus},o);clearTimeout(i.delayInitialFocusTimer),i.delayInitialFocusTimer=void 0,q(),i.active=!1,i.paused=!1,Q.deactivateTrap(s);var c=l(u,"onDeactivate"),b=l(u,"onPostDeactivate"),f=l(u,"checkCanReturnFocus"),g=l(u,"returnFocus","returnFocusOnDeactivate");c&&c();var w=function(){J(function(){g&&y(S(i.nodeFocusedBeforeActivation)),b&&b()})};return g&&f?(f(S(i.nodeFocusedBeforeActivation)).then(w,w),this):(w(),this)},pause:function(){return i.paused||!i.active?this:(i.paused=!0,q(),this)},unpause:function(){return!i.paused||!i.active?this:(i.paused=!1,m(),$(),this)},updateContainerElements:function(o){var u=[].concat(o).filter(Boolean);return i.containers=u.map(function(c){return typeof c=="string"?a.querySelector(c):c}),i.active&&m(),this}},s.updateContainerElements(e),s},Ze=Object.defineProperty,Xe=Object.defineProperties,Qe=Object.getOwnPropertyDescriptors,P=Object.getOwnPropertySymbols,ce=Object.prototype.hasOwnProperty,le=Object.prototype.propertyIsEnumerable,te=(r,e,t)=>e in r?Ze(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Je=(r,e)=>{for(var t in e||(e={}))ce.call(e,t)&&te(r,t,e[t]);if(P)for(var t of P(e))le.call(e,t)&&te(r,t,e[t]);return r},et=(r,e)=>Xe(r,Qe(e)),tt=(r,e)=>{var t={};for(var a in r)ce.call(r,a)&&e.indexOf(a)<0&&(t[a]=r[a]);if(r!=null&&P)for(var a of P(r))e.indexOf(a)<0&&le.call(r,a)&&(t[a]=r[a]);return t};function at(r,e={}){let t;const a=e,{immediate:n}=a,i=tt(a,["immediate"]),s=L(!1),l=L(!1),p=y=>t&&t.activate(y),d=y=>t&&t.deactivate(y),h=()=>{t&&(t.pause(),l.value=!0)},m=()=>{t&&(t.unpause(),l.value=!1)};return ae(()=>_e(r),y=>{!y||(t=Ye(y,et(Je({},i),{onActivate(){s.value=!0,e.onActivate&&e.onActivate()},onDeactivate(){s.value=!1,e.onDeactivate&&e.onDeactivate()}})),n&&p())},{flush:"post"}),Re(()=>d()),{hasFocus:s,isPaused:l,activate:p,deactivate:d,pause:h,unpause:m}}const rt={inheritAttrs:!1},nt=we({...rt,__name:"NDialog",props:{modelValue:{type:Boolean,default:!1},dim:{type:Boolean,default:!0}},setup(r,{expose:e,emit:t}){e();const a=r,n=pe(a,"modelValue",t,{passive:!0}),i=L(null),{activate:s,deactivate:l}=at(i,{immediate:!1});Te(()=>{ae(n,h=>{h?s():l()},{immediate:!0})});function p(){n.value=!1,t("close")}const d={props:a,emit:t,show:n,card:i,activate:s,deactivate:l,close:p};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}});function it(r,e,t,a,n,i){const s=be;return Ne(),Se("div",{class:K(["n-dialog n-transition fixed inset-0 flex items-center justify-center z-100",[a.show?"":"op0 pointer-events-none"]])},[Ee("div",{class:K(["absolute inset-0 -z-1",[t.dim?"bg-black/50":""]]),onClick:a.close},null,2),Fe(s,Ce(r.$attrs,{ref:"card"}),{default:Oe(()=>[De(r.$slots,"default")]),_:3},16)],2)}var lt=ye(nt,[["render",it]]);export{lt as default};
